# ## The classic strategy pattern

With just strategy pattern, you could end up with something like this:
```cpp
class GameCharacter;                            // forward declaration

class HealthCalcFunc {
public:
  ...
  virtual int calc(const GameCharacter& gc) const
  { ... }
  ...
};

HealthCalcFunc defaultHealthCalc;

class GameCharacter {
public:
  explicit GameCharacter(HealthCalcFunc *phcf = &defaultHealthCalc)
  : pHealthCalc(phcf)
  {}

  int healthValue() const
  { return pHealthCalc->calc(*this);}
  ...
private:
  HealthCalcFunc *pHealthCalc;
};
```
This becomes more like a standard strategy pattern implementation, where `HealthCalcFunc` class can be derived from to customize how health calculation is done.


Snippet:
```cpp
// use_private_inheritance_judiciously.m.cpp
#include <iostream>
#include <string>

// demonstrates (the rare) cases where you might want to consider private
// inheritance: if you want to model "is-implemented-in-terms-of" and you want
// access to protected parts, or redefine virtual functions; or if you care
// about empty base optimization.

class Timer {
public:
  ~Timer() {}

  explicit Timer(int tickFrequency) : d_tickFrequency(tickFrequency) {}
  
  virtual void onTick() const = 0;      // automatically called for each tick
                                        // we want to redefine this
private:
  int d_tickFrequency;
};

class Widget: private Timer {
public:
  explicit Widget() : Timer(10) {}

  void measuredFunc() const { onTick(); }
private:
  virtual void onTick() const { std::cout << "ticks\n"; }
};

// EBO

class Empty {};

class Composition {
public:
  int d_data;
  Empty e;
};

class PrivateInheritance : private Empty {
public:
  int d_data;
};

int main() {
  Widget w;
  w.measuredFunc();

  std::cout << "size of int: "
            << sizeof(int) << "\n";
  std::cout << "size of empty class: "
            << sizeof(Empty) << "\n";
  std::cout << "size of Composition class: "
            << sizeof(Composition) << "\n";
  std::cout << "size of PrivateInheritance class: "
            << sizeof(PrivateInheritance) << "\n";
  return 0;
}

```
